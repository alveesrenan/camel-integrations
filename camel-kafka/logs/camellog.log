13-05-2018 20:49:40.994 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 20:49:41.012 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 20:49:41.014 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 20:49:41.308 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 20:49:41.323 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 20:49:41.460 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@363ee3a2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4690b489, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@79b06cab, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3eb7fc54, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7f552bd3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c22fc4c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@460d0a57, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@47d90b9e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1b1473ab]
13-05-2018 20:49:41.489 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 20:49:43.595 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 19270 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 20:49:43.596 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 20:49:43.663 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@16aa8654: startup date [Sun May 13 20:49:43 BRT 2018]; root of context hierarchy
13-05-2018 20:49:44.446 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 20:49:50.035 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$5a062044] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 20:49:50.078 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$37dc5a25] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 20:49:53.405 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@16aa8654: startup date [Sun May 13 20:49:43 BRT 2018]; root of context hierarchy
13-05-2018 20:49:53.527 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 20:49:53.528 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 20:49:53.595 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 20:49:53.596 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 20:49:53.782 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 20:49:54.518 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 20:49:57.537 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 20:49:57.541 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.549 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.551 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.553 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.584 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.599 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 20:49:57.605 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.616 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.623 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 20:49:57.624 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 20:49:57.628 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.632 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 20:49:57.634 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 20:49:57.635 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.637 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 20:49:57.640 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 20:49:57.640 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.643 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 20:49:57.645 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.652 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 20:49:57.653 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 20:49:57.654 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 20:49:57.654 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 20:49:57.655 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 20:49:57.656 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 20:49:57.657 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 20:49:57.658 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 20:49:57.659 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:57.668 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:49:58.286 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 20:49:58.394 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 20:49:58.395 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 20:49:58.441 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 16.191 seconds (JVM running for 18.873)
13-05-2018 20:49:58.455 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 20:49:58.529 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal
13-05-2018 20:49:58.538 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 20:49:58.544 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 20:49:58.546 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 20:49:58.549 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 20:49:59.024 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 20:49:59.216 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 20:49:59.218 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 20:49:59.218 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 20:49:59.220 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.674 seconds
13-05-2018 20:49:59.298 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
13-05-2018 20:49:59.311 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
13-05-2018 20:49:59.318 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@16aa8654: startup date [Sun May 13 20:49:43 BRT 2018]; root of context hierarchy
13-05-2018 20:49:59.322 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 20:49:59.323 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 20:49:59.325 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 20:49:59.336 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 20:49:59.337 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 20:49:59.338 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 20:49:59.363 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.818 seconds
13-05-2018 20:49:59.364 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.041 seconds
13-05-2018 20:49:59.372 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 20:49:59.373 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldUnmarshal(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 20:49:59.374 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.151 seconds (151 millis)
13-05-2018 20:49:59.375 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 20:50:06.130 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 20:50:06.146 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 20:50:06.148 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 20:50:06.511 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 20:50:06.528 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 20:50:06.587 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@363ee3a2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4690b489, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@79b06cab, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3eb7fc54, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7f552bd3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3c22fc4c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@460d0a57, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@47d90b9e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1b1473ab]
13-05-2018 20:50:06.633 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 20:50:09.088 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 19287 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 20:50:09.089 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 20:50:09.194 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@16aa8654: startup date [Sun May 13 20:50:09 BRT 2018]; root of context hierarchy
13-05-2018 20:50:09.896 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 20:50:12.296 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$365da2cd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 20:50:12.319 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1433dcae] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 20:50:14.874 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@16aa8654: startup date [Sun May 13 20:50:09 BRT 2018]; root of context hierarchy
13-05-2018 20:50:15.034 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 20:50:15.036 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 20:50:15.112 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 20:50:15.113 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 20:50:15.225 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 20:50:15.728 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 20:50:17.471 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.473 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.491 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 20:50:17.492 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 20:50:17.495 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 20:50:17.496 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 20:50:17.497 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 20:50:17.499 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 20:50:17.500 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 20:50:17.500 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 20:50:17.502 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.507 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.510 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 20:50:17.512 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.513 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.515 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 20:50:17.516 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.518 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 20:50:17.518 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.520 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.522 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 20:50:17.524 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 20:50:17.525 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.534 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 20:50:17.535 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 20:50:17.536 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.538 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 20:50:17.543 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 20:50:17.550 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:17.552 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 20:50:18.188 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 20:50:18.278 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 20:50:18.279 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 20:50:18.308 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 11.291 seconds (JVM running for 13.364)
13-05-2018 20:50:18.320 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 20:50:18.363 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal
13-05-2018 20:50:18.367 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 20:50:18.369 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 20:50:18.374 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 20:50:18.378 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 20:50:18.934 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 20:50:19.093 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 20:50:19.095 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 20:50:19.096 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 20:50:19.098 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.724 seconds
13-05-2018 20:50:19.177 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
13-05-2018 20:50:19.199 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
13-05-2018 20:50:19.216 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@16aa8654: startup date [Sun May 13 20:50:09 BRT 2018]; root of context hierarchy
13-05-2018 20:50:19.223 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 20:50:19.224 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 20:50:19.226 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 20:50:19.235 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 20:50:19.237 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 20:50:19.238 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 20:50:19.280 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.907 seconds
13-05-2018 20:50:19.281 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.057 seconds
13-05-2018 20:50:19.289 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 20:50:19.289 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldUnmarshal(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 20:50:19.290 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.190 seconds (190 millis)
13-05-2018 20:50:19.290 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 21:06:24.431 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 21:06:24.441 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 21:06:24.443 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 21:06:24.705 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:06:24.723 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 21:06:24.768 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 21:06:24.799 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:06:26.261 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 19776 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 21:06:26.261 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 21:06:26.331 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:06:26 BRT 2018]; root of context hierarchy
13-05-2018 21:06:26.913 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 21:06:29.386 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$adf84345] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:06:29.406 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8bce7d26] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:06:31.130 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:06:26 BRT 2018]; root of context hierarchy
13-05-2018 21:06:31.269 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 21:06:31.288 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 21:06:31.362 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:06:31.362 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:06:31.441 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:06:31.947 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 21:06:34.963 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 21:06:34.965 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:34.973 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 21:06:34.974 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 21:06:34.975 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:34.986 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:34.990 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:34.992 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.004 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.007 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 21:06:35.029 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 21:06:35.030 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.032 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 21:06:35.041 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.044 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.046 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 21:06:35.056 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:06:35.057 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:06:35.057 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.068 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 21:06:35.070 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 21:06:35.071 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 21:06:35.072 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 21:06:35.073 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 21:06:35.074 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 21:06:35.075 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 21:06:35.087 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 21:06:35.096 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.097 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.098 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:06:35.742 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 21:06:35.830 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 21:06:35.831 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 21:06:35.866 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 10.725 seconds (JVM running for 12.636)
13-05-2018 21:06:35.878 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 21:06:35.938 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 21:06:35.942 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 21:06:35.945 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 21:06:35.947 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 21:06:35.950 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 21:06:36.393 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 21:06:36.425 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.477 seconds
13-05-2018 21:06:36.425 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.032 seconds
13-05-2018 21:06:36.438 [main] WARN  o.s.test.context.TestContextManager.beforeTestMethod - Caught exception while allowing TestExecutionListener [org.apache.camel.test.spring.CamelSpringBootExecutionListener@69abeb14] to process 'before' execution of test method [public void com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException()] for test instance [com.learncamel.routes.KafkaRouteMockTest@7db2b614]
org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1830)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136)
	at org.apache.camel.test.spring.CamelAnnotationsHandler$7.execute(CamelAnnotationsHandler.java:298)
	at org.apache.camel.test.spring.CamelSpringTestHelper.doToSpringCamelContexts(CamelSpringTestHelper.java:102)
	at org.apache.camel.test.spring.CamelAnnotationsHandler.handleCamelContextStartup(CamelAnnotationsHandler.java:293)
	at org.apache.camel.test.spring.CamelSpringBootExecutionListener.beforeTestMethod(CamelSpringBootExecutionListener.java:72)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1303)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204)
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1143)
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3729)
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3443)
	at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:209)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3251)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3247)
	at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3270)
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3247)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3163)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133)
	... 25 common frames omitted
Caused by: java.lang.IllegalArgumentException: ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:342)
	at org.apache.camel.model.ProcessDefinition.createProcessor(ProcessDefinition.java:94)
	at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:562)
	at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:523)
	at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:239)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1300)
	... 37 common frames omitted
13-05-2018 21:06:36.536 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:06:26 BRT 2018]; root of context hierarchy
13-05-2018 21:06:36.540 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 21:07:49.995 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 21:07:50.004 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 21:07:50.005 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 21:07:50.214 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:07:50.231 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 21:07:50.271 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 21:07:50.302 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:07:51.652 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 19826 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 21:07:51.652 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 21:07:51.707 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:07:51 BRT 2018]; root of context hierarchy
13-05-2018 21:07:52.250 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 21:07:54.305 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$23b1d1c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:07:54.323 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1880ba1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:07:55.851 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:07:51 BRT 2018]; root of context hierarchy
13-05-2018 21:07:55.959 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 21:07:55.961 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 21:07:56.012 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:07:56.013 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:07:56.088 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:07:56.577 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 21:07:58.071 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 21:07:58.071 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.074 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 21:07:58.074 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 21:07:58.075 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.076 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.078 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.079 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.083 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.088 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:07:58.088 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:07:58.089 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.090 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 21:07:58.091 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.104 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 21:07:58.105 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 21:07:58.106 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 21:07:58.106 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 21:07:58.107 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 21:07:58.107 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 21:07:58.108 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 21:07:58.108 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 21:07:58.109 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.110 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 21:07:58.111 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.112 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.113 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 21:07:58.115 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 21:07:58.116 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.117 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:07:58.706 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 21:07:58.812 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 21:07:58.813 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 21:07:58.856 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 8.309 seconds (JVM running for 9.855)
13-05-2018 21:07:58.864 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 21:07:58.936 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 21:07:58.938 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 21:07:58.940 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 21:07:58.942 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 21:07:58.943 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 21:07:59.399 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 21:07:59.433 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.491 seconds
13-05-2018 21:07:59.434 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.035 seconds
13-05-2018 21:07:59.437 [main] WARN  o.s.test.context.TestContextManager.beforeTestMethod - Caught exception while allowing TestExecutionListener [org.apache.camel.test.spring.CamelSpringBootExecutionListener@a302f30] to process 'before' execution of test method [public void com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException()] for test instance [com.learncamel.routes.KafkaRouteMockTest@1860b107]
org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1830)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136)
	at org.apache.camel.test.spring.CamelAnnotationsHandler$7.execute(CamelAnnotationsHandler.java:298)
	at org.apache.camel.test.spring.CamelSpringTestHelper.doToSpringCamelContexts(CamelSpringTestHelper.java:102)
	at org.apache.camel.test.spring.CamelAnnotationsHandler.handleCamelContextStartup(CamelAnnotationsHandler.java:293)
	at org.apache.camel.test.spring.CamelSpringBootExecutionListener.beforeTestMethod(CamelSpringBootExecutionListener.java:72)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1303)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204)
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1143)
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3729)
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3443)
	at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:209)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3251)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3247)
	at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3270)
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3247)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3163)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133)
	... 25 common frames omitted
Caused by: java.lang.IllegalArgumentException: ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:342)
	at org.apache.camel.model.ProcessDefinition.createProcessor(ProcessDefinition.java:94)
	at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:562)
	at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:523)
	at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:239)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1300)
	... 37 common frames omitted
13-05-2018 21:07:59.481 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:07:51 BRT 2018]; root of context hierarchy
13-05-2018 21:07:59.485 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 21:36:45.466 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 21:36:45.473 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 21:36:45.474 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 21:36:45.784 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:36:45.803 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 21:36:45.893 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 21:36:45.958 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:36:47.551 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 20621 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 21:36:47.552 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 21:36:47.666 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:36:47 BRT 2018]; root of context hierarchy
13-05-2018 21:36:48.181 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 21:36:50.363 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$afb9e6f5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:36:50.381 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8d9020d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:36:52.061 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:36:47 BRT 2018]; root of context hierarchy
13-05-2018 21:36:52.190 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 21:36:52.192 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 21:36:52.254 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:36:52.255 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:36:52.357 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:36:52.898 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 21:36:54.652 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.655 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 21:36:54.655 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.657 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.662 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:36:54.663 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:36:54.664 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.666 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 21:36:54.670 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 21:36:54.671 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.672 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 21:36:54.673 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.674 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.681 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 21:36:54.682 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 21:36:54.682 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.684 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.685 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 21:36:54.686 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.688 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.693 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 21:36:54.694 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 21:36:54.694 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 21:36:54.694 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 21:36:54.695 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 21:36:54.695 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 21:36:54.695 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 21:36:54.695 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 21:36:54.696 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:54.697 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:36:55.206 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 21:36:55.286 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 21:36:55.287 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 21:36:55.320 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 9.114 seconds (JVM running for 11.1)
13-05-2018 21:36:55.332 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 21:36:55.377 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal
13-05-2018 21:36:55.378 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 21:36:55.380 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 21:36:55.382 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 21:36:55.389 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 21:36:55.774 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 21:36:55.807 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.424 seconds
13-05-2018 21:36:55.808 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.034 seconds
13-05-2018 21:36:55.812 [main] WARN  o.s.test.context.TestContextManager.beforeTestMethod - Caught exception while allowing TestExecutionListener [org.apache.camel.test.spring.CamelSpringBootExecutionListener@34d5eac] to process 'before' execution of test method [public void com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal()] for test instance [com.learncamel.routes.KafkaRouteMockTest@2c1a95a2]
org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1830)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136)
	at org.apache.camel.test.spring.CamelAnnotationsHandler$7.execute(CamelAnnotationsHandler.java:298)
	at org.apache.camel.test.spring.CamelSpringTestHelper.doToSpringCamelContexts(CamelSpringTestHelper.java:102)
	at org.apache.camel.test.spring.CamelAnnotationsHandler.handleCamelContextStartup(CamelAnnotationsHandler.java:293)
	at org.apache.camel.test.spring.CamelSpringBootExecutionListener.beforeTestMethod(CamelSpringBootExecutionListener.java:72)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1303)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204)
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1143)
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3729)
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3443)
	at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:209)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3251)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3247)
	at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3270)
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3247)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3163)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133)
	... 25 common frames omitted
Caused by: java.lang.IllegalArgumentException: ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:342)
	at org.apache.camel.model.ProcessDefinition.createProcessor(ProcessDefinition.java:94)
	at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:562)
	at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:523)
	at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:239)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1300)
	... 37 common frames omitted
13-05-2018 21:36:55.874 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:36:47 BRT 2018]; root of context hierarchy
13-05-2018 21:36:55.878 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 21:39:20.215 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 21:39:20.233 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 21:39:20.234 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 21:39:20.594 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:39:20.605 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 21:39:20.635 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@81d9a72, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@747f281, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1169afe1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2ca26d77, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4808bc9b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@70e38ce1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ca923bb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@13df2a8c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1ebea008, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@72d6b3ba, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1787f2a0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7de62196]
13-05-2018 21:39:20.661 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:39:21.655 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 20700 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 21:39:21.655 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 21:39:21.709 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@76b74e9c: startup date [Sun May 13 21:39:21 BRT 2018]; root of context hierarchy
13-05-2018 21:39:22.371 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 21:39:25.518 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$2b72f210] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:39:25.534 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$9492bf1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:39:27.725 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@76b74e9c: startup date [Sun May 13 21:39:21 BRT 2018]; root of context hierarchy
13-05-2018 21:39:27.914 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 21:39:27.916 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 21:39:28.016 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:39:28.017 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:39:28.137 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:39:29.243 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 21:39:31.168 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 21:39:31.170 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 21:39:31.172 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.173 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.175 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.179 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.183 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.190 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 21:39:31.192 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 21:39:31.193 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.196 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 21:39:31.197 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.201 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 21:39:31.203 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.205 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.211 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:39:31.212 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:39:31.213 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.214 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.222 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 21:39:31.223 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 21:39:31.224 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 21:39:31.225 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 21:39:31.226 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 21:39:31.227 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 21:39:31.228 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 21:39:31.229 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 21:39:31.230 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:31.232 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 21:39:31.233 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:39:32.244 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 21:41:20.779 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 21:41:20.783 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 21:41:20.820 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 119.96 seconds (JVM running for 123.149)
13-05-2018 21:41:20.831 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 21:41:20.902 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal
13-05-2018 21:41:20.922 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 21:41:20.924 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 21:41:20.926 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 21:41:20.931 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 21:41:21.628 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 21:41:21.670 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.744 seconds
13-05-2018 21:41:21.671 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.043 seconds
13-05-2018 21:41:21.676 [main] WARN  o.s.test.context.TestContextManager.beforeTestMethod - Caught exception while allowing TestExecutionListener [org.apache.camel.test.spring.CamelSpringBootExecutionListener@1964ef9] to process 'before' execution of test method [public void com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal()] for test instance [com.learncamel.routes.KafkaRouteMockTest@3c2e73ce]
org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1830)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136)
	at org.apache.camel.test.spring.CamelAnnotationsHandler$7.execute(CamelAnnotationsHandler.java:298)
	at org.apache.camel.test.spring.CamelSpringTestHelper.doToSpringCamelContexts(CamelSpringTestHelper.java:102)
	at org.apache.camel.test.spring.CamelAnnotationsHandler.handleCamelContextStartup(CamelAnnotationsHandler.java:293)
	at org.apache.camel.test.spring.CamelSpringBootExecutionListener.beforeTestMethod(CamelSpringBootExecutionListener.java:72)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1303)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204)
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1143)
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3729)
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3443)
	at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:209)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3251)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3247)
	at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3270)
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3247)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3163)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133)
	... 25 common frames omitted
Caused by: java.lang.IllegalArgumentException: ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:342)
	at org.apache.camel.model.ProcessDefinition.createProcessor(ProcessDefinition.java:94)
	at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:562)
	at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:523)
	at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:239)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1300)
	... 37 common frames omitted
13-05-2018 21:41:21.739 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@76b74e9c: startup date [Sun May 13 21:39:21 BRT 2018]; root of context hierarchy
13-05-2018 21:41:21.750 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 21:47:54.083 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 21:47:54.091 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 21:47:54.093 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 21:47:54.293 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:47:54.317 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 21:47:54.385 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 21:47:54.418 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 21:47:55.746 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 20942 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 21:47:55.748 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 21:47:55.825 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:47:55 BRT 2018]; root of context hierarchy
13-05-2018 21:47:56.489 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 21:47:58.749 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$b0224c0d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:47:58.778 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8df885ee] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 21:48:00.237 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:47:55 BRT 2018]; root of context hierarchy
13-05-2018 21:48:00.345 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 21:48:00.347 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 21:48:00.393 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:48:00.394 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:48:00.490 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 21:48:01.051 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 21:48:02.644 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.645 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.647 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.659 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 21:48:02.660 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 21:48:02.661 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 21:48:02.662 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 21:48:02.662 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 21:48:02.662 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 21:48:02.663 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 21:48:02.667 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 21:48:02.668 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.670 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.674 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 21:48:02.675 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.679 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 21:48:02.680 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 21:48:02.681 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.685 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:48:02.686 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 21:48:02.686 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.688 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.691 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 21:48:02.692 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 21:48:02.694 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 21:48:02.694 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.695 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.697 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 21:48:02.699 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:02.700 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 21:48:03.237 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 21:48:03.315 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 21:48:03.316 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 21:48:03.349 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 8.617 seconds (JVM running for 10.754)
13-05-2018 21:48:03.358 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 21:48:03.405 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal
13-05-2018 21:48:03.406 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 21:48:03.409 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 21:48:03.411 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 21:48:03.416 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 21:48:03.835 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 21:48:03.869 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.458 seconds
13-05-2018 21:48:03.870 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.035 seconds
13-05-2018 21:48:03.875 [main] WARN  o.s.test.context.TestContextManager.beforeTestMethod - Caught exception while allowing TestExecutionListener [org.apache.camel.test.spring.CamelSpringBootExecutionListener@78829412] to process 'before' execution of test method [public void com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal()] for test instance [com.learncamel.routes.KafkaRouteMockTest@3ba8ef4e]
org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1830)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136)
	at org.apache.camel.test.spring.CamelAnnotationsHandler$7.execute(CamelAnnotationsHandler.java:298)
	at org.apache.camel.test.spring.CamelSpringTestHelper.doToSpringCamelContexts(CamelSpringTestHelper.java:102)
	at org.apache.camel.test.spring.CamelAnnotationsHandler.handleCamelContextStartup(CamelAnnotationsHandler.java:293)
	at org.apache.camel.test.spring.CamelSpringBootExecutionListener.beforeTestMethod(CamelSpringBootExecutionListener.java:72)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1303)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204)
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1143)
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3729)
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3443)
	at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:209)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3251)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3247)
	at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3270)
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3247)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3163)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133)
	... 25 common frames omitted
Caused by: java.lang.IllegalArgumentException: ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:342)
	at org.apache.camel.model.ProcessDefinition.createProcessor(ProcessDefinition.java:94)
	at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:562)
	at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:523)
	at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:239)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1300)
	... 37 common frames omitted
13-05-2018 21:48:03.931 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 21:47:55 BRT 2018]; root of context hierarchy
13-05-2018 21:48:03.936 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:17:29.255 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 22:17:29.263 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 22:17:29.265 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 22:17:29.497 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:17:29.524 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 22:17:29.618 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 22:17:29.654 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:17:31.164 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 21765 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 22:17:31.165 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 22:17:31.227 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:17:31 BRT 2018]; root of context hierarchy
13-05-2018 22:17:31.756 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 22:17:35.095 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$afb9e6f5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:17:35.120 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8d9020d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:17:36.847 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:17:31 BRT 2018]; root of context hierarchy
13-05-2018 22:17:36.970 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 22:17:36.972 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 22:17:37.015 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:17:37.015 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:17:37.087 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:17:37.567 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 22:17:39.154 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 22:17:39.155 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.158 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.160 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.165 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:17:39.166 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:17:39.169 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.174 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 22:17:39.175 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.176 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 22:17:39.178 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.180 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.181 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 22:17:39.182 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.187 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.198 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 22:17:39.199 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 22:17:39.199 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 22:17:39.200 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 22:17:39.200 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 22:17:39.201 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 22:17:39.202 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 22:17:39.203 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 22:17:39.203 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.206 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 22:17:39.206 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 22:17:39.207 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.209 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 22:17:39.209 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.210 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:17:39.728 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 22:17:39.805 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 22:17:39.806 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 22:17:39.837 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 9.75 seconds (JVM running for 11.977)
13-05-2018 22:17:39.846 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 22:17:39.907 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 22:17:39.908 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 22:17:39.911 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 22:17:39.912 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 22:17:39.917 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 22:17:40.337 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 22:17:40.373 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.454 seconds
13-05-2018 22:17:40.373 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.036 seconds
13-05-2018 22:17:40.382 [main] WARN  o.s.test.context.TestContextManager.beforeTestMethod - Caught exception while allowing TestExecutionListener [org.apache.camel.test.spring.CamelSpringBootExecutionListener@161c9468] to process 'before' execution of test method [public void com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException()] for test instance [com.learncamel.routes.KafkaRouteMockTest@629de8]
org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1830)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:136)
	at org.apache.camel.test.spring.CamelAnnotationsHandler$7.execute(CamelAnnotationsHandler.java:298)
	at org.apache.camel.test.spring.CamelSpringTestHelper.doToSpringCamelContexts(CamelSpringTestHelper.java:102)
	at org.apache.camel.test.spring.CamelAnnotationsHandler.handleCamelContextStartup(CamelAnnotationsHandler.java:293)
	at org.apache.camel.test.spring.CamelSpringBootExecutionListener.beforeTestMethod(CamelSpringBootExecutionListener.java:72)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:269)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: >>> process[Processor@0x0] <<< in route: Route(route1)[[From[{{fromRoute}}]] -> [OnException[[class o... because of ref must be specified on: process[Processor@0x0]
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1303)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:204)
	at org.apache.camel.impl.DefaultCamelContext.startRoute(DefaultCamelContext.java:1143)
	at org.apache.camel.impl.DefaultCamelContext.startRouteDefinitions(DefaultCamelContext.java:3729)
	at org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3443)
	at org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:209)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3251)
	at org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3247)
	at org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3270)
	at org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3247)
	at org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61)
	at org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3163)
	at org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:133)
	... 25 common frames omitted
Caused by: java.lang.IllegalArgumentException: ref must be specified on: process[Processor@0x0]
	at org.apache.camel.util.ObjectHelper.notNull(ObjectHelper.java:342)
	at org.apache.camel.model.ProcessDefinition.createProcessor(ProcessDefinition.java:94)
	at org.apache.camel.model.ProcessorDefinition.makeProcessorImpl(ProcessorDefinition.java:562)
	at org.apache.camel.model.ProcessorDefinition.makeProcessor(ProcessorDefinition.java:523)
	at org.apache.camel.model.ProcessorDefinition.addRoutes(ProcessorDefinition.java:239)
	at org.apache.camel.model.RouteDefinition.addRoutes(RouteDefinition.java:1300)
	... 37 common frames omitted
13-05-2018 22:17:40.471 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:17:31 BRT 2018]; root of context hierarchy
13-05-2018 22:17:40.476 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:18:13.989 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 22:18:14.001 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 22:18:14.002 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 22:18:14.259 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:18:14.272 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 22:18:14.320 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 22:18:14.348 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:18:15.602 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 21794 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 22:18:15.603 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 22:18:15.700 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:18:15 BRT 2018]; root of context hierarchy
13-05-2018 22:18:16.204 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 22:18:18.793 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$adf84345] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:18:18.809 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8bce7d26] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:18:20.301 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:18:15 BRT 2018]; root of context hierarchy
13-05-2018 22:18:20.421 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 22:18:20.423 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 22:18:20.472 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:18:20.473 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:18:20.560 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:18:21.357 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 22:18:23.188 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.191 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 22:18:23.193 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.195 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.197 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.199 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 22:18:23.200 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.201 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 22:18:23.204 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.206 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 22:18:23.208 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.209 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.213 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:18:23.214 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:18:23.215 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.221 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 22:18:23.222 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 22:18:23.223 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 22:18:23.224 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 22:18:23.224 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 22:18:23.225 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 22:18:23.225 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 22:18:23.226 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 22:18:23.226 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.228 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 22:18:23.229 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 22:18:23.229 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.231 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 22:18:23.232 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:23.233 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:18:24.088 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 22:18:24.365 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 22:18:24.366 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 22:18:24.401 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 9.763 seconds (JVM running for 11.555)
13-05-2018 22:18:24.410 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 22:18:24.489 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 22:18:24.495 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 22:18:24.496 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 22:18:24.501 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 22:18:24.504 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 22:18:25.356 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 22:18:25.538 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 22:18:25.547 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 22:18:25.548 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 22:18:25.551 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 1.049 seconds
13-05-2018 22:18:25.713 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
13-05-2018 22:18:25.799 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:18:25.830 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:18:15 BRT 2018]; root of context hierarchy
13-05-2018 22:18:25.845 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:18:25.845 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 22:18:25.854 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 22:18:25.881 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 22:18:25.884 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 22:18:25.890 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 22:18:26.004 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 1.504 seconds
13-05-2018 22:18:26.006 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.161 seconds
13-05-2018 22:18:26.022 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:18:26.024 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldNotUnmarshalDataException(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 22:18:26.033 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.467 seconds (467 millis)
13-05-2018 22:18:26.033 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:19:00.876 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 22:19:00.886 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 22:19:00.888 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 22:19:01.083 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:19:01.096 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 22:19:01.145 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 22:19:01.168 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:19:02.517 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 21820 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 22:19:02.518 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 22:19:02.582 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:19:02 BRT 2018]; root of context hierarchy
13-05-2018 22:19:03.134 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 22:19:05.203 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$aabeb85a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:19:05.219 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8894f23b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:19:06.638 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:19:02 BRT 2018]; root of context hierarchy
13-05-2018 22:19:06.738 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 22:19:06.740 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 22:19:06.785 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:19:06.785 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:19:06.864 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:19:07.380 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 22:19:08.986 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:08.997 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 22:19:08.997 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 22:19:08.997 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 22:19:08.998 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 22:19:08.998 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 22:19:08.998 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 22:19:08.999 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 22:19:08.999 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 22:19:08.999 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.003 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.005 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 22:19:09.006 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.008 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 22:19:09.009 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.010 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.012 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 22:19:09.013 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 22:19:09.013 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.015 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 22:19:09.016 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 22:19:09.018 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 22:19:09.018 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.021 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:19:09.025 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:19:09.026 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.027 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.028 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.029 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.030 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:19:09.564 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 22:19:09.649 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 22:19:09.649 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 22:19:09.671 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 8.234 seconds (JVM running for 9.818)
13-05-2018 22:19:09.677 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 22:19:09.714 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 22:19:09.716 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 22:19:09.729 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 22:19:09.731 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 22:19:09.737 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 22:19:10.136 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 22:19:10.240 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 22:19:10.242 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 22:19:10.242 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 22:19:10.244 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.513 seconds
13-05-2018 22:19:10.308 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
13-05-2018 22:19:10.323 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:19:10.324 [main] INFO  c.l.processor.ValidateDataProcessor.process - Item in validation is: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:19:10.331 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:19:02 BRT 2018]; root of context hierarchy
13-05-2018 22:19:10.335 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:19:10.336 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 22:19:10.337 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 22:19:10.343 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 22:19:10.347 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 22:19:10.353 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 22:19:10.468 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.738 seconds
13-05-2018 22:19:10.468 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.132 seconds
13-05-2018 22:19:10.483 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:19:10.484 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldNotUnmarshalDataException(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 22:19:10.485 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.238 seconds (238 millis)
13-05-2018 22:19:10.485 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:20:48.499 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 22:20:48.513 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 22:20:48.514 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 22:20:48.744 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:20:48.757 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 22:20:48.787 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 22:20:48.811 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:20:50.649 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 21869 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 22:20:50.656 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 22:20:50.908 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:20:50 BRT 2018]; root of context hierarchy
13-05-2018 22:20:51.640 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 22:20:54.005 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$8f1db2b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:20:54.022 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$6cf3ec91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:20:55.574 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:20:50 BRT 2018]; root of context hierarchy
13-05-2018 22:20:55.679 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 22:20:55.681 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 22:20:55.732 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:20:55.733 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:20:55.798 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:20:56.323 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 22:20:57.965 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 22:20:57.967 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.968 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.970 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.971 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 22:20:57.973 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.974 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.975 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.986 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 22:20:57.987 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 22:20:57.987 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 22:20:57.988 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 22:20:57.989 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 22:20:57.989 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 22:20:57.990 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 22:20:57.991 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 22:20:57.992 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.993 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.994 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.996 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:57.997 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 22:20:58.000 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 22:20:58.001 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 22:20:58.002 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:58.004 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 22:20:58.010 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:20:58.014 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:20:58.015 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:58.019 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 22:20:58.019 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:20:58.579 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 22:20:58.654 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 22:20:58.654 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 22:20:58.681 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 9.401 seconds (JVM running for 11.228)
13-05-2018 22:20:58.688 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 22:20:58.721 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 22:20:58.722 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 22:20:58.724 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 22:20:58.729 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 22:20:58.733 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 22:20:59.143 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 22:20:59.302 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 22:20:59.305 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 22:20:59.306 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 22:20:59.322 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.580 seconds
13-05-2018 22:20:59.442 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
13-05-2018 22:20:59.494 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:20:59.495 [main] INFO  c.l.processor.ValidateDataProcessor.process - Item in validation is: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:20:59.505 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:20:50 BRT 2018]; root of context hierarchy
13-05-2018 22:20:59.509 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:20:59.510 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 22:20:59.511 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 22:20:59.528 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 22:20:59.531 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 22:20:59.532 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 22:20:59.568 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.841 seconds
13-05-2018 22:20:59.569 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.059 seconds
13-05-2018 22:20:59.582 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:20:59.582 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldNotUnmarshalDataException(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 22:20:59.583 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.259 seconds (259 millis)
13-05-2018 22:20:59.583 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:21:05.011 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 22:21:05.022 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 22:21:05.024 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 22:21:05.419 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:21:05.463 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 22:21:05.578 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@81d9a72, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@747f281, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1169afe1, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2ca26d77, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4808bc9b, org.springframework.test.context.transaction.TransactionalTestExecutionListener@70e38ce1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2ca923bb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@13df2a8c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1ebea008, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@72d6b3ba, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1787f2a0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7de62196]
13-05-2018 22:21:05.631 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:21:06.902 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 21880 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 22:21:06.903 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 22:21:07.005 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2d72f75e: startup date [Sun May 13 22:21:07 BRT 2018]; root of context hierarchy
13-05-2018 22:21:07.690 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 22:21:10.858 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$a1dd848] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:21:10.902 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$e7f41229] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:21:12.784 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@2d72f75e: startup date [Sun May 13 22:21:07 BRT 2018]; root of context hierarchy
13-05-2018 22:21:12.914 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 22:21:12.916 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 22:21:12.978 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:21:12.978 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:21:13.076 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:21:13.790 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 22:21:15.297 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 22:21:15.298 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.299 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.306 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:21:15.308 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:21:15.309 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.313 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 22:21:15.314 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 22:21:15.315 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.320 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.321 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.323 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.331 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 22:21:15.332 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 22:21:15.333 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 22:21:15.334 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 22:21:15.334 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 22:21:15.335 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 22:21:15.335 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 22:21:15.336 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 22:21:15.337 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.339 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 22:21:15.341 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 22:21:15.342 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.345 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.346 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.348 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 22:21:15.349 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:15.351 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 22:21:15.352 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:16.276 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 22:21:20.234 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 22:21:20.234 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 22:21:20.259 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 14.235 seconds (JVM running for 17.276)
13-05-2018 22:21:20.267 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 22:21:20.314 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 22:21:20.316 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 22:21:20.317 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 22:21:20.319 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 22:21:20.321 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 22:21:20.884 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 22:21:21.012 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 22:21:21.013 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 22:21:21.014 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 22:21:21.015 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.696 seconds
13-05-2018 22:21:21.085 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
13-05-2018 22:21:21.108 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:21:24.838 [main] INFO  c.l.processor.ValidateDataProcessor.process - Item in validation is: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:21:37.506 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@2d72f75e: startup date [Sun May 13 22:21:07 BRT 2018]; root of context hierarchy
13-05-2018 22:21:37.511 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:21:37.511 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 22:21:37.512 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 22:21:37.518 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 22:21:37.518 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 22:21:37.519 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 22:21:37.564 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 17.246 seconds
13-05-2018 22:21:37.564 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.053 seconds
13-05-2018 22:21:37.573 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:21:37.574 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldNotUnmarshalDataException(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 22:21:37.575 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 16.557 seconds (16557 millis)
13-05-2018 22:21:37.575 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:21:45.721 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 22:21:45.732 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 22:21:45.733 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 22:21:45.973 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:21:46.002 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 22:21:46.113 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 22:21:46.211 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:21:47.390 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 21902 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 22:21:47.391 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 22:21:47.445 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:21:47 BRT 2018]; root of context hierarchy
13-05-2018 22:21:48.030 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 22:21:50.030 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$afb9e6f5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:21:50.050 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8d9020d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:21:51.717 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:21:47 BRT 2018]; root of context hierarchy
13-05-2018 22:21:51.850 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 22:21:51.853 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 22:21:51.890 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:21:51.890 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:21:51.952 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:21:52.422 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 22:21:53.911 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:21:53.912 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:21:53.913 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.914 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.916 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 22:21:53.917 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.918 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.920 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.927 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 22:21:53.928 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 22:21:53.929 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 22:21:53.930 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 22:21:53.931 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 22:21:53.931 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 22:21:53.932 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 22:21:53.933 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 22:21:53.933 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.934 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.936 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 22:21:53.938 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.939 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.940 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 22:21:53.943 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 22:21:53.944 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 22:21:53.944 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.945 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 22:21:53.946 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.946 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:53.947 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 22:21:53.948 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:21:54.457 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 22:21:54.555 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 22:21:54.556 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 22:21:54.593 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 8.036 seconds (JVM running for 10.027)
13-05-2018 22:21:54.600 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 22:21:54.672 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 22:21:54.675 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 22:21:54.677 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 22:21:54.680 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 22:21:54.683 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 22:21:55.301 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 22:21:55.404 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 22:21:55.406 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 22:21:55.406 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 22:21:55.408 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.728 seconds
13-05-2018 22:21:55.471 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
13-05-2018 22:21:55.484 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:21:55.484 [main] INFO  c.l.processor.ValidateDataProcessor.process - Item in validation is: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:21:55.489 [main] ERROR route1.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:21:55.502 [main] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-Victors-MacBook-Pro-local-1526260912157-0-2 on ExchangeId: ID-Victors-MacBook-Pro-local-1526260912157-0-1). Exhausted after delivery attempt: 1 caught: com.learncamel.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route1)[DataException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.processor.MailProcessor@1deceb67]]]}], Channel[sendTo(mock://output1)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [direct://input                                                                ] [        35]
[route1            ] [log3              ] [log                                                                           ] [         6]
[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@25c4f621]               ] [         9]
[route1            ] [log4              ] [log                                                                           ] [         3]
[route1            ] [process4          ] [Processor@0x582a764a                                                          ] [        13]
[route1            ] [log2              ] [log                                                                           ] [         0]
[route1            ] [choice4           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         6]
[route1            ] [to1               ] [{{errorRoute}}                                                                ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.exception.DataException: Sku is null for ABC TV
	at com.learncamel.processor.ValidateDataProcessor.process(ValidateDataProcessor.java:22)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.direct.DirectBlockingProducer.process(DirectBlockingProducer.java:53)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:246)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:148)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:135)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:206)
	at org.apache.camel.impl.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:309)
	at com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException(KafkaRouteMockTest.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
13-05-2018 22:21:55.514 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:21:47 BRT 2018]; root of context hierarchy
13-05-2018 22:21:55.519 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:21:55.520 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 22:21:55.522 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 22:21:55.542 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 22:21:55.545 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 22:21:55.547 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 22:21:55.589 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.909 seconds
13-05-2018 22:21:55.589 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.069 seconds
13-05-2018 22:21:55.599 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:21:55.600 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldNotUnmarshalDataException(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 22:21:55.603 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.190 seconds (190 millis)
13-05-2018 22:21:55.604 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:22:51.786 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 22:22:51.799 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 22:22:51.800 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 22:22:52.157 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:22:52.177 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 22:22:52.278 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4690b489, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@79b06cab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3eb7fc54, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7f552bd3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3c22fc4c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@460d0a57, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@47d90b9e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1184ab05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@149e0f5d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1b1473ab, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f7c2f4f]
13-05-2018 22:22:52.332 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:22:54.248 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 21942 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 22:22:54.249 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 22:22:54.416 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:22:54 BRT 2018]; root of context hierarchy
13-05-2018 22:22:55.270 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 22:22:58.047 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$23b1d1c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:22:58.067 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$1880ba1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:22:59.727 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:22:54 BRT 2018]; root of context hierarchy
13-05-2018 22:22:59.841 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 22:22:59.842 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 22:22:59.930 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:22:59.931 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:23:00.078 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:23:01.139 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 22:23:03.046 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 22:23:03.047 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.050 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 22:23:03.051 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 22:23:03.052 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.053 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.055 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.057 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.060 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.061 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 22:23:03.063 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 22:23:03.064 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.065 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 22:23:03.066 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.068 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.069 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 22:23:03.073 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:23:03.073 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:23:03.074 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.080 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 22:23:03.081 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 22:23:03.081 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 22:23:03.082 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 22:23:03.083 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 22:23:03.083 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 22:23:03.084 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 22:23:03.084 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 22:23:03.085 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.086 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.087 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:23:03.546 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 22:23:03.621 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 22:23:03.622 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 22:23:03.651 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 10.808 seconds (JVM running for 13.46)
13-05-2018 22:23:03.662 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 22:23:03.720 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 22:23:03.722 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 22:23:03.724 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 22:23:03.727 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 22:23:03.729 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 22:23:04.188 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 22:23:04.329 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 22:23:04.336 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 22:23:04.337 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 22:23:04.341 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.611 seconds
13-05-2018 22:23:04.461 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
13-05-2018 22:23:04.480 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:23:04.481 [main] INFO  c.l.processor.ValidateDataProcessor.process - Item in validation is: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:23:04.492 [main] ERROR route1.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:23:04.524 [main] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-Victors-MacBook-Pro-local-1526260980641-0-2 on ExchangeId: ID-Victors-MacBook-Pro-local-1526260980641-0-1). Exhausted after delivery attempt: 1 caught: com.learncamel.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route1)[DataException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.processor.MailProcessor@73c9e8e8]]]}], Channel[sendTo(mock://output1)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [direct://input                                                                ] [        66]
[route1            ] [log3              ] [log                                                                           ] [         7]
[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@43a8bd35]               ] [        12]
[route1            ] [log4              ] [log                                                                           ] [         6]
[route1            ] [process4          ] [Processor@0xde8039f                                                           ] [        32]
[route1            ] [log2              ] [log                                                                           ] [         2]
[route1            ] [choice4           ] [when[{header{header(env)} != mock}]choice[]                                   ] [        19]
[route1            ] [to1               ] [{{errorRoute}}                                                                ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.exception.DataException: Sku is null for ABC TV
	at com.learncamel.processor.ValidateDataProcessor.process(ValidateDataProcessor.java:22)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.direct.DirectBlockingProducer.process(DirectBlockingProducer.java:53)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:246)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:148)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:135)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:206)
	at org.apache.camel.impl.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:309)
	at com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException(KafkaRouteMockTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
13-05-2018 22:23:04.531 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@3e2059ae: startup date [Sun May 13 22:22:54 BRT 2018]; root of context hierarchy
13-05-2018 22:23:04.538 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:23:04.540 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 22:23:04.542 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 22:23:04.549 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 22:23:04.551 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 22:23:04.552 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 22:23:04.608 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.882 seconds
13-05-2018 22:23:04.613 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.072 seconds
13-05-2018 22:23:04.625 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:23:04.626 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldNotUnmarshalDataException(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 22:23:04.626 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.282 seconds (282 millis)
13-05-2018 22:23:04.626 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:24:15.924 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 22:24:15.936 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 22:24:15.939 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 22:24:16.360 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:24:16.386 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 22:24:16.476 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@47d90b9e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1184ab05, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3aefe5e5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@149e0f5d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b1473ab, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2f7c2f4f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6af93788, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@ef9296d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@36c88a32, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7880cdf3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5be6e01c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1c93084c]
13-05-2018 22:24:16.531 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 22:24:18.564 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 21980 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/learncamel-spring-boot/kafka-integration)
13-05-2018 22:24:18.565 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 22:24:18.758 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1b8a29df: startup date [Sun May 13 22:24:18 BRT 2018]; root of context hierarchy
13-05-2018 22:24:19.274 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 22:24:22.544 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$afb9e6f5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:24:22.563 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8d9020d6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 22:24:24.808 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1b8a29df: startup date [Sun May 13 22:24:18 BRT 2018]; root of context hierarchy
13-05-2018 22:24:24.969 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 22:24:24.979 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 22:24:25.060 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:24:25.061 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:24:25.158 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 22:24:26.172 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 22:24:27.987 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 22:24:27.989 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 22:24:27.990 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 22:24:27.992 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:27.993 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:27.994 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:27.996 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.006 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 22:24:28.007 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 22:24:28.008 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 22:24:28.008 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 22:24:28.009 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 22:24:28.010 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 22:24:28.010 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 22:24:28.011 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 22:24:28.011 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.013 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 22:24:28.014 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.015 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.018 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:24:28.019 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 22:24:28.020 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.021 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 22:24:28.022 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 22:24:28.022 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.023 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.024 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.026 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.027 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 22:24:28.029 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 22:24:28.537 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 22:24:28.612 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 22:24:28.613 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 22:24:28.645 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 11.553 seconds (JVM running for 14.199)
13-05-2018 22:24:28.661 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 22:24:28.717 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 22:24:28.718 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 22:24:28.721 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 22:24:28.724 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 22:24:28.731 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 22:24:29.112 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 22:24:29.257 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 22:24:29.259 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 22:24:29.261 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 22:24:29.264 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.537 seconds
13-05-2018 22:24:29.352 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
13-05-2018 22:24:29.381 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:24:29.382 [main] INFO  c.l.processor.ValidateDataProcessor.process - Item in validation is: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:24:29.389 [main] ERROR route1.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 22:24:29.405 [main] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-Victors-MacBook-Pro-local-1526261065841-0-2 on ExchangeId: ID-Victors-MacBook-Pro-local-1526261065841-0-1). Exhausted after delivery attempt: 1 caught: com.learncamel.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route1)[DataException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.processor.MailProcessor@1deceb67]]]}], Channel[sendTo(mock://output1)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [direct://input                                                                ] [        65]
[route1            ] [log3              ] [log                                                                           ] [        10]
[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@43a8bd35]               ] [        22]
[route1            ] [log4              ] [log                                                                           ] [         7]
[route1            ] [process4          ] [Processor@0x582a764a                                                          ] [        17]
[route1            ] [log2              ] [log                                                                           ] [         2]
[route1            ] [choice4           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         8]
[route1            ] [to1               ] [{{errorRoute}}                                                                ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.exception.DataException: Sku is null for ABC TV
	at com.learncamel.processor.ValidateDataProcessor.process(ValidateDataProcessor.java:22)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.direct.DirectBlockingProducer.process(DirectBlockingProducer.java:53)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:246)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:148)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:135)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:206)
	at org.apache.camel.impl.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:309)
	at com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException(KafkaRouteMockTest.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
13-05-2018 22:24:29.415 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@1b8a29df: startup date [Sun May 13 22:24:18 BRT 2018]; root of context hierarchy
13-05-2018 22:24:29.419 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 22:24:29.419 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 22:24:29.420 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 22:24:29.425 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 22:24:29.426 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 22:24:29.427 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 22:24:29.459 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.735 seconds
13-05-2018 22:24:29.459 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.040 seconds
13-05-2018 22:24:29.465 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 22:24:29.466 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldNotUnmarshalDataException(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 22:24:29.466 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.199 seconds (199 millis)
13-05-2018 22:24:29.466 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 23:55:46.521 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.buildDefaultMergedContextConfiguration - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.learncamel.routes.KafkaRouteMockTest], using SpringBootContextLoader
13-05-2018 23:55:46.531 [main] INFO  o.s.t.c.s.AbstractContextLoader.generateDefaultLocations - Could not detect default resource locations for test class [com.learncamel.routes.KafkaRouteMockTest]: no resource found for suffixes {-context.xml, Context.groovy}.
13-05-2018 23:55:46.533 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils.detectDefaultConfigurationClasses - Could not detect default configuration classes for test class [com.learncamel.routes.KafkaRouteMockTest]: KafkaRouteMockTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
13-05-2018 23:55:46.725 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getOrFindConfigurationClasses - Found @SpringBootConfiguration com.learncamel.KafkaCamelSpringBootApplication for test class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 23:55:46.735 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getDefaultTestExecutionListenerClassNames - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
13-05-2018 23:55:46.778 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper.getTestExecutionListeners - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@76508ed1, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@41e36e46, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@15c43bd9, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3d74bf60, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4f209819, org.springframework.test.context.transaction.TransactionalTestExecutionListener@15eb5ee5, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@2145b572, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@39529185, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@72f926e6, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3daa422a, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@31c88ec8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1cbbffcd]
13-05-2018 23:55:46.804 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 23:55:47.598 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 25384 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/camel-integration/camel-kafka)
13-05-2018 23:55:47.599 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 23:55:47.651 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4816278d: startup date [Sun May 13 23:55:47 BRT 2018]; root of context hierarchy
13-05-2018 23:55:48.165 [background-preinit] INFO  o.h.validator.internal.util.Version.<clinit> - HV000001: Hibernate Validator 5.3.6.Final
13-05-2018 23:55:50.254 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d5dc566d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 23:55:50.277 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b3b2904e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 23:55:51.995 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@4816278d: startup date [Sun May 13 23:55:47 BRT 2018]; root of context hierarchy
13-05-2018 23:55:52.110 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 23:55:52.116 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 23:55:52.185 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 23:55:52.186 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 23:55:52.255 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 23:55:52.694 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 23:55:54.095 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 23:55:54.096 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 23:55:54.097 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 23:55:54.103 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 23:55:54.104 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 23:55:54.106 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 23:55:54.107 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 23:55:54.109 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 23:55:54.109 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.114 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.128 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.131 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 23:55:54.134 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.150 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 23:55:54.151 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 23:55:54.152 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.154 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.156 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 23:55:54.158 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 23:55:54.163 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 23:55:54.164 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 23:55:54.166 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.168 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.170 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 23:55:54.171 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.173 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.176 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 23:55:54.177 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.178 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.180 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:54.646 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 23:55:54.741 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 23:55:54.742 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 23:55:54.785 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 7.797 seconds (JVM running for 9.002)
13-05-2018 23:55:54.793 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 23:55:54.849 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException
13-05-2018 23:55:54.851 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 23:55:54.853 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 23:55:54.855 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) is starting
13-05-2018 23:55:54.857 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 23:55:55.247 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 23:55:55.408 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 23:55:55.409 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route1 started and consuming from: direct://input
13-05-2018 23:55:55.410 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 23:55:55.412 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-1) started in 0.557 seconds
13-05-2018 23:55:55.494 [main] INFO  route1.log - Read Message from Kafka {"transactionType":"ADD", "sku":"", "itemDescription":"ABC TV", "price":"500.00"}
13-05-2018 23:55:55.511 [main] INFO  route1.log - Unmarshalled message is Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 23:55:55.513 [main] INFO  c.l.processor.ValidateDataProcessor.process - Item in validation is: Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 23:55:55.527 [main] ERROR route1.log - DataException in the route Item(transactionType=ADD, sku=, itemDescription=ABC TV, price=500.00)
13-05-2018 23:55:55.548 [main] ERROR o.a.c.processor.DefaultErrorHandler.log - Failed delivery for (MessageId: ID-Victors-MacBook-Pro-local-1526266552447-0-2 on ExchangeId: ID-Victors-MacBook-Pro-local-1526266552447-0-1). Exhausted after delivery attempt: 1 caught: com.learncamel.exception.DataException: Sku is null for ABC TV. Processed by failure processor: FatalFallbackErrorHandler[Pipeline[[Channel[Log(route1)[DataException in the route ${body}]], Channel[choice{when Filter[if: header{header(env)} != mock do: Channel[DelegateSync[com.learncamel.processor.MailProcessor@76563d26]]]}], Channel[sendTo(mock://output1)]]]]

Message History
---------------------------------------------------------------------------------------------------------------------------------------
RouteId              ProcessorId          Processor                                                                        Elapsed (ms)
[route1            ] [route1            ] [direct://input                                                                ] [        52]
[route1            ] [log3              ] [log                                                                           ] [         6]
[route1            ] [unmarshal1        ] [unmarshal[org.apache.camel.model.DataFormatDefinition@1b5623b4]               ] [        10]
[route1            ] [log4              ] [log                                                                           ] [         7]
[route1            ] [process4          ] [Processor@0x4ac86d6a                                                          ] [        26]
[route1            ] [log2              ] [log                                                                           ] [         2]
[route1            ] [choice4           ] [when[{header{header(env)} != mock}]choice[]                                   ] [         9]
[route1            ] [to1               ] [{{errorRoute}}                                                                ] [         1]

Stacktrace
---------------------------------------------------------------------------------------------------------------------------------------
com.learncamel.exception.DataException: Sku is null for ABC TV
	at com.learncamel.processor.ValidateDataProcessor.process(ValidateDataProcessor.java:22)
	at org.apache.camel.processor.DelegateSyncProcessor.process(DelegateSyncProcessor.java:63)
	at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:76)
	at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:548)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:138)
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)
	at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:201)
	at org.apache.camel.component.direct.DirectBlockingProducer.process(DirectBlockingProducer.java:53)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:186)
	at org.apache.camel.processor.SharedCamelInternalProcessor.process(SharedCamelInternalProcessor.java:86)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:541)
	at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:369)
	at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:506)
	at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:246)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:148)
	at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:135)
	at org.apache.camel.impl.DefaultProducerTemplate.sendBodyAndHeader(DefaultProducerTemplate.java:206)
	at org.apache.camel.impl.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:309)
	at com.learncamel.routes.KafkaRouteMockTest.shouldNotUnmarshalDataException(KafkaRouteMockTest.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.ExpectException.evaluate(ExpectException.java:19)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
13-05-2018 23:55:55.563 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@4816278d: startup date [Sun May 13 23:55:47 BRT 2018]; root of context hierarchy
13-05-2018 23:55:55.579 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 23:55:55.580 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutting down
13-05-2018 23:55:55.581 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 23:55:55.591 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route1 shutdown complete, was consuming from: direct://input
13-05-2018 23:55:55.592 [Camel (camel-1) thread #1 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 23:55:55.593 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 23:55:55.695 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) uptime 0.841 seconds
13-05-2018 23:55:55.698 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-1) is shutdown in 0.118 seconds
13-05-2018 23:55:55.720 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 23:55:55.728 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldNotUnmarshalDataException(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 23:55:55.731 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.306 seconds (306 millis)
13-05-2018 23:55:55.732 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 23:55:55.737 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.prepareTestInstance - @RunWith(CamelSpringBootRunner.class) preparing: class com.learncamel.routes.KafkaRouteMockTest
13-05-2018 23:55:55.913 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarting - Starting KafkaRouteMockTest on Victors-MacBook-Pro.local with PID 25384 (started by victoraldir in /Users/victoraldir/dev/apache-camel/codelab/camel-integration/camel-kafka)
13-05-2018 23:55:55.913 [main] INFO  c.l.routes.KafkaRouteMockTest.logStartupProfileInfo - The following profiles are active: mock
13-05-2018 23:55:55.920 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.prepareRefresh - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@74bcf1ab: startup date [Sun May 13 23:55:55 BRT 2018]; root of context hierarchy
13-05-2018 23:55:56.524 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.apache.camel.spring.boot.CamelAutoConfiguration' of type [org.apache.camel.spring.boot.CamelAutoConfiguration$$EnhancerBySpringCGLIB$$d5dc566d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 23:55:56.535 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker.postProcessAfterInitialization - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$b3b2904e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
13-05-2018 23:55:57.106 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache - Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@74bcf1ab: startup date [Sun May 13 23:55:55 BRT 2018]; root of context hierarchy
13-05-2018 23:55:57.130 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
13-05-2018 23:55:57.132 [main] INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
13-05-2018 23:55:57.178 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 23:55:57.179 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 23:55:57.230 [main] INFO  o.s.w.s.h.SimpleUrlHandlerMapping.registerHandler - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
13-05-2018 23:55:57.398 [main] INFO  o.a.c.i.c.DefaultTypeConverter.doStart - Type converters loaded (core: 193, classpath: 10)
13-05-2018 23:55:58.299 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
13-05-2018 23:55:58.301 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
13-05-2018 23:55:58.304 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}/invoke],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.invoke(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 23:55:58.305 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check/{id}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelHealthCheckMvcEndpoint.query(java.lang.String,java.util.Map<java.lang.String, java.lang.Object>)
13-05-2018 23:55:58.307 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/health/check || /camel/health/check.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.311 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.314 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/route-controller || /camel/route-controller.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.319 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.325 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
13-05-2018 23:55:58.326 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.329 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
13-05-2018 23:55:58.330 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
13-05-2018 23:55:58.333 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.335 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.351 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/start],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.start(java.lang.String)
13-05-2018 23:55:58.370 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/stop],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.stop(java.lang.String,java.lang.Long,java.lang.Boolean)
13-05-2018 23:55:58.373 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/suspend],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.suspend(java.lang.String,java.lang.Long)
13-05-2018 23:55:58.375 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/resume],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.resume(java.lang.String)
13-05-2018 23:55:58.378 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/reset],methods=[POST],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.reset(java.lang.String)
13-05-2018 23:55:58.379 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/dump],methods=[GET],produces=[application/xml]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.dump(java.lang.String)
13-05-2018 23:55:58.381 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.info(java.lang.String)
13-05-2018 23:55:58.381 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes/{id}/detail],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.apache.camel.spring.boot.actuate.endpoint.CamelRoutesMvcEndpoint.detail(java.lang.String)
13-05-2018 23:55:58.382 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/camel/routes || /camel/routes.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.385 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.386 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
13-05-2018 23:55:58.389 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.394 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
13-05-2018 23:55:58.395 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.397 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.398 [main] INFO  o.s.b.a.e.mvc.EndpointHandlerMapping.register - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
13-05-2018 23:55:58.688 [main] INFO  c.learncamel.routes.HealthCheckRoute.configure - Starting HealthCheckRoute
13-05-2018 23:55:58.690 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRoutes - Loading additional Camel XML routes from: classpath:camel/*.xml
13-05-2018 23:55:58.692 [main] INFO  o.a.c.spring.boot.RoutesCollector.loadXmlRests - Loading additional Camel XML rests from: classpath:camel-rest/*.xml
13-05-2018 23:55:58.705 [main] INFO  c.l.routes.KafkaRouteMockTest.logStarted - Started KafkaRouteMockTest in 2.947 seconds (JVM running for 12.921)
13-05-2018 23:55:58.711 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Setting shutdown timeout to [10 SECONDS] on CamelContext with name [camelContext].
13-05-2018 23:55:58.730 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - @RunWith(CamelSpringBootRunner.class) before: class com.learncamel.routes.KafkaRouteMockTest.shouldUnmarshal
13-05-2018 23:55:58.736 [main] INFO  o.a.c.t.s.CamelSpringBootExecutionListener.beforeTestMethod - Initialized CamelSpringBootRunner now ready to start CamelContext
13-05-2018 23:55:58.739 [main] INFO  o.a.c.t.s.CamelAnnotationsHandler.execute - Starting CamelContext with name [camelContext].
13-05-2018 23:55:58.742 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-2) is starting
13-05-2018 23:55:58.748 [main] INFO  o.a.c.m.ManagedManagementStrategy.doStart - JMX is enabled
13-05-2018 23:55:58.869 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartCamel - StreamCaching is not in use. If using streams then its recommended to enable stream caching. See more details at http://camel.apache.org/stream-caching.html
13-05-2018 23:55:58.921 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: healthRoute started and consuming from: direct://health
13-05-2018 23:55:58.923 [main] INFO  o.a.camel.spring.SpringCamelContext.doStartOrResumeRouteConsumers - Route: route2 started and consuming from: direct://input
13-05-2018 23:55:58.924 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Total 2 routes, of which 2 are started
13-05-2018 23:55:58.925 [main] INFO  o.a.camel.spring.SpringCamelContext.start - Apache Camel 2.21.0 (CamelContext: camel-2) started in 0.183 seconds
13-05-2018 23:55:58.930 [main] INFO  route2.log - Read Message from Kafka {"transactionType":"ADD", "sku":"100", "itemDescription":"SamsungTV", "price":"500.00"}
13-05-2018 23:55:58.932 [main] INFO  route2.log - Unmarshalled message is Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
13-05-2018 23:55:58.933 [main] INFO  c.l.processor.ValidateDataProcessor.process - Item in validation is: Item(transactionType=ADD, sku=100, itemDescription=SamsungTV, price=500.00)
13-05-2018 23:55:58.938 [main] INFO  o.s.w.c.s.GenericWebApplicationContext.doClose - Closing org.springframework.web.context.support.GenericWebApplicationContext@74bcf1ab: startup date [Sun May 13 23:55:55 BRT 2018]; root of context hierarchy
13-05-2018 23:55:58.940 [main] INFO  o.s.c.s.DefaultLifecycleProcessor.stop - Stopping beans in phase 2147483647
13-05-2018 23:55:58.942 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-2) is shutting down
13-05-2018 23:55:58.942 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Starting to graceful shutdown 2 routes (timeout 10 seconds)
13-05-2018 23:55:58.946 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: route2 shutdown complete, was consuming from: direct://input
13-05-2018 23:55:58.947 [Camel (camel-2) thread #2 - ShutdownTask] INFO  o.a.c.impl.DefaultShutdownStrategy.run - Route: healthRoute shutdown complete, was consuming from: direct://health
13-05-2018 23:55:58.951 [main] INFO  o.a.c.impl.DefaultShutdownStrategy.doShutdown - Graceful shutdown of 2 routes completed in 0 seconds
13-05-2018 23:55:58.990 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-2) uptime 0.248 seconds
13-05-2018 23:55:58.993 [main] INFO  o.a.camel.spring.SpringCamelContext.doStop - Apache Camel 2.21.0 (CamelContext: camel-2) is shutdown in 0.051 seconds
13-05-2018 23:55:59.001 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
13-05-2018 23:55:59.002 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Testing done: shouldUnmarshal(com.learncamel.routes.KafkaRouteMockTest)
13-05-2018 23:55:59.003 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - Took: 0.075 seconds (75 millis)
13-05-2018 23:55:59.003 [main] INFO  c.l.routes.KafkaRouteMockTest.afterTestMethod - ********************************************************************************
